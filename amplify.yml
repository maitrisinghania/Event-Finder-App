version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "No pre-build step required"
    build:
      commands:
        - echo "Building frontend using Express"
        - npm install  # Install dependencies (including Express)
        - node index.js  # Start the server to serve the static files
  artifacts:
    baseDirectory: build  # The folder containing the built frontend assets
    files:
      - '**/*'  # Include all files in the build folder
  cache:
    paths:
      - node_modules/**/*  # Cache node_modules for faster subsequent builds

backend:
  phases:
    build:
      commands:
        - echo "No backend build required"
